
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>

    <script>
        // для того, чтобы задать тему для диаграммы, все, что вам нужно, - включить файл темы
        // находится в папке amcharts / themes и задает свойство темы для диаграммы.

        var chart1;
        var chart2;

        makeCharts("light", "#FFFFFF");

        // Тема может применяться только при создании экземпляра диаграммы - это означает
        // что, если вам нужно изменить тему во время выполнения, вам нужно создать целое
        // объект диаграммы еще раз.

        function makeCharts(theme, bgColor, bgImage) {

            if (chart1) {
                chart1.clear();
            }
            if (chart2) {
                chart2.clear();
            }

            // background
            if (document.body) {
                document.body.style.backgroundColor = bgColor;
                document.body.style.backgroundImage = "url(" + bgImage + ")";
            }

            // Столбчатая диаграмма
            chart1 = AmCharts.makeChart("chartdiv1", {
                type: "serial",
                theme: theme,
                dataProvider: [{
                    "year": 'ИдеяБанк',
                    "income": 4,
                }, {
                        "year": 'БелВЭБ',
                    "income": 0,
                }, {
                        "year": 'БанкРешение',
                    "income": 0,
                }, {
                        "year": 'МТБанк',
                    "income": 0,
                }, {
                        "year": 'Абсолют',
                    "income": 0,
                }, {
                        "year": 'Альфа',
                    "income": 1,
                }, {
                        "year": 'ХоумКредит',
                    "income":0,
                }, {
                        "year": 'БПС-Сбер',
                    "income": 0,
                }, {
                        "year": 'БСББанк',
                    "income": 5,
                }, {
                        "year": 'БТАБанк',
                    "income": 0,
                }, {
                        "year": 'ВТБ',
                    "income": 0,
                }, {
                        "year": 'БелГазпром',
                    "income": 0,
                }, {
                        "year": 'БелАгроПром',
                    "income": 0,
                }, {
                        "year": 'Беларус',
                    "income": 6,
                }, {
                        "year": 'БелИнвест',
                    "income": 0,
                }
                ],
                categoryField: "year",
                startDuration: 1,

                categoryAxis: {
                    gridPosition: "start"
                },
                valueAxes: [{
                    title: "Количество транзакций"
                }],
                graphs: [{
                    type: "column",
                    title: "Income",
                    valueField: "income",
                    lineAlpha: 0,
                    fillAlphas: 0.8,
                    balloonText: "[[title]] in [[category]]:<b>[[value]]</b>"
                }, {
                    type: "line",
                    lineThickness: 2,
                    fillAlphas: 0,
                    bullet: "round",
                    balloonText: "[[title]] in [[category]]:<b>[[value]]</b>"
                }],
                legend: {
                    useGraphSettings: true
                }

            });

            // круговая диаграмма
            chart2 = AmCharts.makeChart("chartdiv2", {
                type: "pie",
                theme: theme,
                dataProvider: [{
                    "Category": "Автомобиль",
                    "litres": 156.9
                }, {
                    "Category": "Аренда жилья",
                    "litres": 131.1
                }, {
                    "Category": "Досуг и отдых",
                    "litres": 115.8
                }, {
                    "Category": "дежда, обувь, аксессуары",
                    "litres": 109.9
                }, {
                    "Category": "Питание",
                    "litres": 108.3
                }, {
                    "Category": "Связь, ТВ и интернет",
                    "litres": 65
                }, {
                    "Category": "Уход за собой",
                    "litres": 50
                }],
                titleField: "Category",
                valueField: "litres",
                balloonText: "[[title]]<br><b>[[value]]</b> ([[percents]]%)",
                legend: {
                    align: "center",
                    markerType: "circle"
                }
            });

        }


    </script>
</head>
<nav class="navmenu navmenu-default navmenu-fixed-left" role="navigation">
    <h2>Статистика</h2>
</nav>
<div>
    <br />
    
        @model List<ChangeTransactionViewModel>

    <div class="demo-section k-content wide">
        @(Html.Kendo().Chart()
    .Name("chart")
    .Title("What is you favourite sport?")
    .Legend(legend => legend
        .Position(ChartLegendPosition.Top)
    )
    .Series(series =>
    {
        series.Donut(new dynamic[] {
            new {category = "Football",value = 35},
            new {category = "Basketball",value = 25},
            new {category = "Volleyball",value = 20},
            new {category = "Rugby",value = 10},
            new {category = "Tennis",value = 10}
        })
        .Labels(labels => labels
            .Visible(true)
            .Position(ChartPieLabelsPosition.OutsideEnd)
            .Template("#= category # - #= kendo.format('{0:P}', percentage)#")
            .Background("transparent")
        );
    })
    .Tooltip(tooltip => tooltip
        .Visible(true)
        .Template("#= category # - #= kendo.format('{0:P}', percentage) #")
    )
        )
    </div>
    <script>
        $(document).ready(function () {
            $(".box").bind("change", refresh);
        });

        function refresh() {
            var chart = $("#chart").data("kendoChart"),
                pieSeries = chart.options.series[0],
                labels = $("#labels").prop("checked"),
                alignInputs = $("input[name='alignType']"),
                alignLabels = alignInputs.filter(":checked").val();

            chart.options.transitions = false;
            pieSeries.labels.visible = labels;
            pieSeries.labels.align = alignLabels;

            alignInputs.attr("disabled", !labels);

            chart.refresh();
        }
    </script>


    <div id="example2">
        <div class="demo-section k-content wide">
            <div id="chart2"></div>
        </div>
        <script>
            var series = [{
                name: "Доходы",
                data: [5600, 6300, 7400, 9100, 11700, 13800],

                // Line chart marker type
                markers: { type: "square" }
            }, {
                    name: "Расходы",
                data: [5200, 3400, 2300, 4800, 6700, 8300]
            }];

            function createChart() {
                $("#chart").kendoChart({
                    title: {
                        text: "График доходов/расходов"
                    },
                    legend: {
                        position: "bottom"
                    },
                    seriesDefaults: {
                        type: "column",
                        stack: true
                    },
                    series: series,
                    valueAxis: {
                        line: {
                            visible: false
                        }
                    },
                    categoryAxis: {
                        categories: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь"],
                        majorGridLines: {
                            visible: false
                        }
                    },
                    tooltip: {
                        visible: true,
                        format: "{0}"
                    }
                });
            }

            $(document).ready(function () {
                createChart();
                $(document).bind("kendo:skinChange", createChart);
                $(".options").bind("change", refresh);
            });

            function refresh() {
                var chart = $("#chart").data("kendoChart"),
                    type = $("input[name=seriesType]:checked").val(),
                    stack = $("#stack").prop("checked");

                for (var i = 0, length = series.length; i < length; i++) {
                    series[i].stack = stack;
                    series[i].type = type;
                };

                chart.setOptions({
                    series: series
                });
            }
        </script>
    </div>
    <h4>Диаграмма расходов по категориям</h4>
    <div class="col-md-12" id="chartdiv2" style="height: 500px;"></div>
    <h4>Диаграмма транзакций по банкам</h4>
    <div class="col-md-12" id="chartdiv1" style="height: 500px;"></div>

</div>

   


